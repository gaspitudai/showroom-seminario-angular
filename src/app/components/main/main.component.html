<ng-container *ngIf="cartService._cartDisplay">
    <cart></cart>
</ng-container>

<main>
    <div class="ropa-box">

        <article *ngFor="let ropa of ropas">

            <section class="ropa-img-section">
                <img [src]="ropa.image">
            </section>

            <section class="ropa-info-section">
                <div class="info-box">
                    <h2>{{ropa.name}}</h2>
                    <h3>{{ropa.type}}</h3>
                </div>
                <div class="price-box">
                    <h4>{{ropa.price|currency}}</h4>
                    <div *ngIf="ropa.clearance==true">OFERTA!</div>
                </div>
            </section>

            <section class="ropa-input-section">
                <div class="ropa-input-stock-box">
                    <h5>
                        <span *ngIf="ropa.stock>0">Stock: {{ropa.stock}}</span>
                        <span *ngIf="ropa.stock==0" class="color-red">Sin stock</span>
                    </h5>
                    <input-integer 
                        *ngIf="ropa.stock>0"
                        [(quantity)]="ropa.quantity" 
                        [max]="ropa.stock" 
                        (maxReached)="maxReached($event)"
                        >
                    </input-integer>
                </div>
            </section>

            <button 
                class="btn-add-cart" 
                (click)="addToCart(ropa)"
                >
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13.299 3.74c-.207-.206-.299-.461-.299-.711 0-.524.407-1.029 1.02-1.029.262 0 .522.1.721.298l3.783 3.783c-.771.117-1.5.363-2.158.726l-3.067-3.067zm3.92 14.84l-.571 1.42h-9.296l-3.597-8.961-.016-.039h9.441c.171-.721.459-1.395.848-2h-14.028v2h.643c.535 0 1.021.304 1.256.784l4.101 10.216h12l1.21-3.015c-.698-.03-1.367-.171-1.991-.405zm-6.518-14.84c.207-.206.299-.461.299-.711 0-.524-.407-1.029-1.02-1.029-.261 0-.522.1-.72.298l-4.701 4.702h2.883l3.259-3.26zm8.799 4.26c-2.484 0-4.5 2.015-4.5 4.5s2.016 4.5 4.5 4.5c2.482 0 4.5-2.015 4.5-4.5s-2.018-4.5-4.5-4.5zm2.5 5h-2v2h-1v-2h-2v-1h2v-2h1v2h2v1z"/></svg>
            </button>

        </article>

    </div>
</main>